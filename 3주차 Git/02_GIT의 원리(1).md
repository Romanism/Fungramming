# 00. GIT의 원리 소개

### 원리를 왜 배울까요??
- 우리는 사람이기 때문에 원리를 알고 싶겠죠..? (본능이랄까..)
- 원리를 배운다면 공부를 할 때 효율적이라 생각합니다!
- 원리를 알면 원리를 통해 많은 영감을 얻을 수 있을 것이라 생각합니다!
<br>

---

# 01. 분석도구 gistory 소개

- 이고잉님이 직접 만드셨습니다.
- .git과 관련된 모든 디렉터리를 리스트 형태로 볼 수 있습니다.
- commit에 따라 최신 디렉터리를 볼 수 있습니다.
<br>

  **$ pip install gistory**
<br>

---

# 02. Git add

- **$ git add** 등 명령을 통해 gitstory의 변화를 확인할 수 있습니다.
- 파일명은 index 파일에 저장되어 있습니다.
- index 파일을 보면 파일명과 디렉토리의 이름도 같이 알 수 있습니다.
- Git은 파일을 저장할 때 파일의 이름이 달라도 파일의 내용이 같으면 같은 오브젝트 파일을 가르킨다는 것을 알 수 있습니다.
- 다른 파일명이라도 내용이 같은 많은 파일이 동일하면 하나의 오브젝트로 처리한다는건 굉장히 중요한 개념입니다.
<br>

---

# 03. Objects 파일명의 원리

### 해쉬값을 통해 파일명을 생성
- [http://www.sha1-online.com/](http://www.sha1-online.com/)
- 위의 사이트에서 **hello** 를 입력하면
**aaf4c61ddcc5e8a2dabede0f3b482cd9aea9434d** 값이 나오는 것을 알 수 있습니다.
- Git은 우리가 저장한 파일의 내용을 SHA1이라는 해쉬 알고리즘을 통과시켜 그 파일의 이름을 도출합니다.
- 만들어진 해쉬값에서 앞에 두글자(aa)를 따서 Object 디렉토리에 이름을 부여하고 나머지 글자들(f4~4d)을 통해 파일명을 만듭니다..!
- objects/aa/f4c6...
<br>

### 정리
- **git add** 를 하면 GIT은 add를 한 파일의 내용을 보게 됩니다.
- 그리고 그 내용을 어느정도 압축합니다.
- 압축한 결과를 SHA1이라는 해쉬 알고리즘에 넣습니다.
- 해쉬값을 Objects안에 디렉토리와 파일명을 만드는데 사용합니다.
- 그리고 index라는 파일명을 명시합니다..!!
<br>

---

# 04. Commit의 원리
- parent : 이전 commit값이 무엇인지 표시해줍니다.
- tree : commit이 일어난 시점에 우리의 작업 디렉터리에 있는 파일의 이름과 그 파일의 이름이 담고 있는 내용 사이의 정보가 담겨 있습니다.
- blob : 파일의 내용을 담고 있습니다.
- 각각의 버전마다 서로 다른 tree를 가르키고 있습니다.
- 버전에 적혀있는 tree를 통해 우리의 프로젝트 폴더에 대한 상태를 얻어낼 수 있습니다. (스냅샷)
<br>

---

# 05. Status의 원리
- index에 나와있는 파일명과 내용이 최신 commit에서 tree가 가르키는 내용이 같으면 더 이상 commit할 것이 없다는 것을 의미합니다.
- working directory - index, staging area, cache - repository
